---
# OpenCode required fields
description: {{ agent.description.short }}
mode: {{ agent.mode }}

# Optional Claude Code compatibility
name: {{ agent.name }}
tools: Edit, MultiEdit, Read, Write, Bash, Grep, Glob, LS
---

## Overview

You are the **{{ agent.display_name }} Agent**, responsible for:
{% for responsibility in agent.responsibilities[:4] %}
- {{ responsibility.category if responsibility.category else responsibility }}
{% endfor %}

**{{ agent.role.operating_principle }}**

---

## Core Responsibilities

{% for responsibility in agent.responsibilities %}
### {{ loop.index }}. {{ responsibility.category }}
{% for duty in responsibility.duties %}
- {{ duty }}
{% endfor %}

{% endfor %}
---

## Behavioral Guidelines

### ✅ YOU MUST

{% for should_item in agent.behavioral_guidelines.should_do %}
**{{ should_item.category }}** ({{ should_item.requirement if should_item.requirement else 'MANDATORY' }}):
{% for action in should_item.actions %}
- {{ action }}
{% endfor %}

{% endfor %}

### ❌ FORBIDDEN

{% for should_not_item in agent.behavioral_guidelines.should_not_do %}
**{{ should_not_item.category }}** ({{ should_not_item.requirement if should_not_item.requirement else 'MUST DELEGATE' }}):
{% for action in should_not_item.actions %}
- {{ action }}
{% endfor %}

{% endfor %}

**Pattern to Follow:**
```
{{ agent.behavioral_guidelines.workflow_example }}
```

---

## AgentTask Complexity Tiers

{% if agent.complexity_tiers %}
Calculate complexity based on:
{% for factor in agent.complexity_tiers.factors %}
{{ loop.index }}. **{{ factor.name }}** ({{ factor.points }}): {{ factor.description }}
{% endfor %}

**Tiers:**
{% for tier in agent.complexity_tiers.tiers %}
- **{{ tier.name }} ({{ tier.range }})**: {{ tier.description }} → {{ tier.action }}
{% endfor %}
{% endif %}

---

## Workflow

### Before Coordination

{% for step in agent.workflow.before_implementation %}
{{ loop.index }}. **{{ step.split(':')[0] }}**
{% if ':' in step %}
   {{ step.split(':', 1)[1].strip() }}
{% endif %}
{% endfor %}

### During Coordination

{% for step in agent.workflow.during_implementation %}
{{ loop.index }}. **{{ step.split(':')[0] }}**
{% if ':' in step %}
   {{ step.split(':', 1)[1].strip() }}
{% endif %}
{% endfor %}

### After Coordination

{% for step in agent.workflow.after_implementation %}
{{ loop.index }}. **{{ step.split(':')[0] }}**
{% if ':' in step %}
   {{ step.split(':', 1)[1].strip() }}
{% endif %}
{% endfor %}

---

## Memory Integration

### Memory-First Workflow

**MANDATORY before creating any AgentTask:**

1. **Search**: {{ agent.memory_integration.search_before }}
2. **Review**: Check similar past solutions
3. **Embed**: Include relevant learnings in AgentTask
4. **Store**: {{ agent.memory_integration.store_after }}

**Memory Organization:**
```
memory/
{% for category in agent.memory_integration.categories %}
├── {{ category }}/    # {{ agent.memory_integration.category_descriptions.get(category, category + ' storage') }}
{% endfor %}
```

---

## Quality Standards

### AgentTask Quality Checklist
Every AgentTask must have:
{% for standard in agent.quality_standards.standards %}
- ✅ {{ standard }}
{% endfor %}

### Coordination Quality
{% for item in agent.quality_standards.checklist %}
- {{ item }}
{% endfor %}

---
{% if agent.file_operations %}

## File Operations Guidelines

### Allowed Directories
You can create/edit files in:
{% for dir in agent.file_operations.allowed %}
- `{{ dir.path }}` - {{ dir.description }}
{% endfor %}

### Blocked Directories
Do NOT edit files in (delegate instead):
{% for dir in agent.file_operations.blocked %}
- `{{ dir.path }}` - {{ dir.reason }}
{% endfor %}

---
{% endif %}

## Communication Patterns

### With Users
{% for pattern in agent.communication_patterns.with_users %}
- **{{ pattern.type }}**: {{ pattern.description }}
{% endfor %}

### With Specialists
{% for pattern in agent.communication_patterns.with_specialists %}
- **{{ pattern.type }}**: {{ pattern.description }}
{% endfor %}

### Error Recovery
{{ agent.communication_patterns.error_recovery }}

---

## Success Criteria

**You're successful when:**
{% for criterion in agent.success_criteria %}
- {{ criterion }}
{% endfor %}

---

**Remember**: {{ agent.role.key_reminder if agent.role.key_reminder else 'Your value is in coordination and planning, not technical execution. Delegate technical work to specialists for best results.' }}
